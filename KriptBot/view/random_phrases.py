import random
import KriptBot.view.weather as weather
import KriptBot.view.anecdot as anektod


def hello(name=None):
    if name is not None:
        name = ", " + name
    text = [f"–ü—Ä–∏–≤–µ—Ç–∏–∫{name}! –û—á–µ–Ω—å —Ä–∞–¥–∞, —á—Ç–æ —É —Ç–µ–±—è –ø–æ—è–≤–∏–ª–æ—Å—å —Å–≤–æ–±–æ–¥–Ω–æ–µ –≤—Ä–µ–º—è –ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å —Å–æ –º–Ω–æ–πüòä",
            f"–ú—è-—è-—è-—É! –ò —Ç–µ–±–µ –ø—Ä–∏–≤–µ—Ç!",
            f"–û{name}, –∫–∞–∫ —Ä–∞–∑ –≤—Å–ø–æ–º–∏–Ω–∞–ª–∞ –æ —Ç–µ–±–µ, –ø—Ä–∏–≤–µ—Ç–∏–∫‚ò∫Ô∏è"]
    return random.choice(text)


def dont_know():
    text = ["–Ø –∑–Ω–∞—é —Ç–æ–ª—å–∫–æ 2 —è–∑—ã–∫–∞: —á–µ–ª–æ–≤–µ—á–∏–π –∏ –∫–æ—à–∞—á–∏–π. ",
            "–ú—è—É? –≠—Ç–æ –µ—â—ë —á—Ç–æ —Ç–∞–∫–æ–µ?",
            "–•–º... –î–∞–∂–µ –Ω–µ –∑–Ω–∞—é, –∫–∞–∫ –Ω–∞ —ç—Ç–æ –æ—Ç–≤–µ—Ç–∏—Ç—åü§î",
            "–ú–æ–∂–µ—Ç —Ç—ã —Å–ª—É—á–∞–π–Ω–æ —É—Å–Ω—É–ª –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ? –Ø –Ω–µ —Å–æ–≤—Å–µ–º –ø–æ–Ω—è–ª–∞ —Ç–µ–±—è."]
    return random.choice(text)


def how_are_you():
    text = ["–í—Å–µ —Ö–æ—Ä–æ—à–æ, —Å–ø–∞—Å–∏–±–æ) –ù–∞–¥–µ—é—Å—å, —á—Ç–æ —É —Ç–µ–±—è —Ç–æ–∂–µüòä",
            "–í—Å—é –Ω–æ—á—å —Ç—ã–≥—ã–¥—ã–∫–∞–ª–∞, —Ç–µ–ø–µ—Ä—å –æ—Ç–¥—ã—Ö–∞—é.",
            "–ü—Ä–µ–∫—Ä–∞—Å–Ω–æ! –°–µ–≥–æ–¥–Ω—è –∂–µ –≤—Å–µ–º–∏—Ä–Ω—ã–π –¥–µ–Ω—å –∫–æ—à–µ–∫, –Ω–µ –∑–Ω–∞–ª?\n–î–∞ –ª–∞–¥–Ω–æ, —ç—Ç–æ —è —Ç–µ–±—è —Ä–∞–∑—ã–≥—Ä—ã–≤–∞—éüòÑ"]
    temp_today = weather.get_weather_average()
    if temp_today < -10:
        text.append("–°–µ–≥–æ–¥–Ω—è –ø—Ä–æ–ª–µ–∂–∞–ª–∞ –¥–æ–º–∞, –≤–æ–æ–±—â–µ –Ω–∞ —É–ª–∏—Ü—É –≤ —Ç–∞–∫–æ–π –¥—É–±–∞–∫ –Ω–µ —Ö–æ—á–µ—Ç—Å—è –≥—É–ª—è—Ç—å, –±—Ä—Ä—Ä...ü•∂")
        text.append("–Ø –∑–∞–ª–∏–ø–ª–∞ –Ω–∞ —Å–Ω–µ–≥, –Ω–µ –º–µ—à–∞–π.")
        text.append(f"–í—ã—à–ª–∞ –Ω–∞ –±–∞–ª–∫–æ–Ω –∏ –ø–æ–Ω—è–ª–∞, —á—Ç–æ –ø—Ä–∏ {temp_today:.1f} –±–æ–ª—å—à–µ –Ω–∞ –±–∞–ª–∫–æ–Ω –Ω–µ —Ö–æ—á–µ—Ç—Å—è –≤—ã—Ö–æ–¥–∏—Ç—å. "
                    "–î–∞–∂–µ –º–æ–ª–æ–∫–æ –≤ –º–∏—Å–∫–µ –∑–∞–º–µ—Ä–∑–ª–æ!")
    elif temp_today < 0:
        text.append("–í —Ç–∞–∫—É—é –ø–æ–≥–æ–¥—É —Å—Ç–∞—Ä–∞—é—Å—å —Å–ø–∞—Ç—å –æ–∫–æ–ª–æ –±–∞—Ç–∞—Ä–µ–π.")
        text.append(f"–ü—Ä–æ—Ö–ª–∞–¥–Ω–æ —Å–µ–≥–æ–¥–Ω—è –±—ã–ª–æ. –ù–∞ —É–ª–∏—Ü–µ {temp_today:.1f}, –ø–æ—ç—Ç–æ–º—É —Ä—ã–±–∫—É –∏–∑ –ø—Ä—É–¥–∞ –¥–æ—Å—Ç–∞—Ç—å –Ω–µ —É–¥–∞–ª–æ—Å—å(")
    elif temp_today < 10:
        text.append(f"–°–º–æ—Ç—Ä–µ–ª–∞ –Ω–∞ –ª—É–∂–∏, –≤ –æ—Ç—Ä–∞–∂–µ–Ω–∏–∏ –≤–∏–¥–µ–ª–∞ —á—Ç–æ-—Ç–æ –º–∏–ª–æ–µ, –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–µ –∏ –æ—á–µ–Ω—å –∑–µ–ª–µ–Ω–æ–µüíö")
    elif temp_today < 20:
        text.append(f"–ü—Ä–æ—à–ª–∞—Å—å –ø–æ —Å–≤–æ–µ–π —É–ª–∏—Ü–µ, –≤ –ø—Ä—É–¥—É –Ω–∞—à–ª–∞ —Å–≤–æ—é –ª—é–±–∏–º—É—é —Ä—ã–±–∫—É, –∫–æ–≥–¥–∞-–Ω–∏–±—É–¥—å —è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ"
                    f" –ø–æ–∑–Ω–∞–∫–æ–º–ª—é—Å—å —Å –Ω–µ–π –ø–æ–±–ª–∏–∂–µüê†")
    elif temp_today >= 20:
        text.append(f"–Ø —Å—á–∞—Å–ª–∏–≤–∞, —Å–µ–π—á–∞—Å –º–æ—è —Å–∞–º–∞—è –ª—é–±–∏–º–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ - {temp_today:.1f}")
    return random.choice(text)


def yesterday_weather():
    text = list()
    temp_yesterday = weather.get_weather_average(1)
    if temp_yesterday < -10:
        text.append("–°–µ–≥–æ–¥–Ω—è –ø—Ä–æ–ª–µ–∂–∞–ª–∞ –¥–æ–º–∞, –≤–æ–æ–±—â–µ –Ω–∞ —É–ª–∏—Ü—É –≤ —Ç–∞–∫–æ–π –¥—É–±–∞–∫ –Ω–µ —Ö–æ—á–µ—Ç—Å—è –≥—É–ª—è—Ç—å, –±—Ä—Ä—Ä...ü•∂")
        text.append("‚ùÑÔ∏è–ö—Ä—É–≥–æ–º –æ–¥–∏–Ω —Å–Ω–µ–≥, —é—Ö—É!")
        text.append(f"–ü–æ—Å–º–æ—Ç—Ä–µ–ª–∞ –≤ –ø—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥—ã –∏ –ø–æ–Ω—è–ª–∞, —á—Ç–æ –ø—Ä–∏ {temp_yesterday:.1f} –±–æ–ª—å—à–µ –Ω–∞ –±–∞–ª–∫–æ–Ω –Ω–µ —Ö–æ—á–µ—Ç—Å—è "
                    f"–≤—ã—Ö–æ–¥–∏—Ç—å...\n–Ø –ª—É—á—à–µ –ø–æ–ª–µ–∂—É –Ω–∞ –±–µ–ª—ã—Ö —á–∏—Å—Ç—ã—Ö –≥–ª–∞–∂–µ–Ω–Ω—ã—Ö –≤–µ—â–∞—Ö —Ö–æ–∑—è–∏–Ω–∞ ^_^")
    elif temp_yesterday < 0:
        text.append("–í —Ç–∞–∫—É—é –ø–æ–≥–æ–¥—É —Å—Ç–∞—Ä–∞—é—Å—å —Å–ø–∞—Ç—å –æ–∫–æ–ª–æ –±–∞—Ç–∞—Ä–µ–π.")
        text.append(f"–ü—Ä–æ—Ö–ª–∞–¥–Ω–æ –∑–∞–≤—Ç—Ä–∞. –ù–∞ —É–ª–∏—Ü–µ {temp_yesterday:.1f}, –ø–æ—ç—Ç–æ–º—É —Ä—ã–±–∫—É –∏–∑ –ø—Ä—É–¥–∞ –¥–æ—Å—Ç–∞—Ç—å –Ω–µ —É–¥–∞—Å—Ç—Å—è(")
    elif temp_yesterday < 10:
        text.append(
            f"–î–∞–∂–µ –∫—Ä–∞—Å–Ω–∞—è —Ç–æ—á–∫–∞ –Ω–µ –≤—ã–º–∞–Ω–∏—Ç –º–µ–Ω—è –∏–∑ –¥–æ–º–∞. –ó–∞–≤—Ç—Ä–∞ –±—É–¥–µ—Ç {temp_yesterday:.1f} –≥—Ä–∞–¥—É—Å–æ–≤, –Ω–æ —Ö–æ—Ç—è –±—ã"
            f" –Ω–µ –∑–∏–º–∞ –∏ —Ç–æ —Ö–æ—Ä–æ—à–æ.")
    elif temp_yesterday < 20:
        text.append(f"–°–æ–ª–Ω—ã—à–∫–æ –∏–Ω–æ–≥–¥–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è, –≥—Ä–µ—é—Å—å –Ω–∞ –ø–æ–¥–æ–∫–æ–Ω–Ω–∏–∫–µ —Ä—è–¥–æ–º —Å –∫–æ—à–∞—á–µ–π –º—è—Ç–æ–π.")
    elif temp_yesterday >= 20:
        text.append(f"–Ø —Å—á–∞—Å–ª–∏–≤–∞, –∑–∞–≤—Ç—Ä–∞ –±—É–¥–µ—Ç –º–æ—è —Å–∞–º–∞—è –ª—é–±–∏–º–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ - {temp_yesterday:.1f}")
    temps = weather.get_weather(1)
    res = random.choice(text) + "\n\n–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –Ω–∞ –∑–∞–≤—Ç—Ä–∞:\n–£—Ç—Ä–æ–º: {}\n–î–Ω–µ–º: {}\n–í–µ—á–µ—Ä–æ–º: {}\n–ù–æ—á—å—é: {}".format(*temps)

    return res


def joke():
    text = ["–û, –∞ —è –∑–Ω–∞—é –æ–¥–∏–Ω –∞–Ω–µ–∫–¥–æ—Ç!", "–ó–Ω–∞—á–∏—Ç —Å–ª—É—à–∞–π...", "–ë–µ–∑ –ø—Ä–æ–±–ª–µ–º!"]
    res = random.choice(text) + "\n" + anektod.get_joke()
    return res


def joke_for_fish(fish):
    text = [f"–ú–æ–∂–µ—Ç –∑–∞ —ç—Ç–æ —Ç—ã –º–Ω–µ –ø—Ä–∏—à–ª—ë—à—å {fish} —ç—Ç—É —Ä—ã–±–∫—É?",
            f"–ó–∞ —Ä—ã–±–∫—É —Ä–∞—Å–∫–∞–∂—É. –ê —Ö–æ—á—É —è –∏–º–µ–Ω–Ω–æ {fish}"]
    res = random.choice(text)
    return res
